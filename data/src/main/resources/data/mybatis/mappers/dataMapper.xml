<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.mapper.IMapper">

	<resultMap id="AbbatoireMap" type="Abbatoire">
		<result column="SIRET" property="siret" />
		<result column="Departement" property="departement" />
		<result column="Adresse" property="adresse" />
	</resultMap>
	
	<resultMap id="CustomerMap" type="Customer">
		<result column="ID" property="id" />
		<result column="name" property="name" />
		<result column="address" property="adresse" />
		<result column="zip code" property="zipCode" />
		<result column="phone" property="phone" />
		
	</resultMap> 

	<select id="getAbbatoireBySiret" parameterType="map" resultMap="AbbatoireMap">
		select "Departement",
		"Num_autorisation",
		"SIRET",
		"Denomination",
		"Adresse",
		"Code_postal",
		"Commune",
		"Espece"
		from "${schema}".ABBATOIRES_DEPARTEMENT
		where siret = #{siret}
	</select>
	
	<select id="getCustomers" parameterType="map" resultMap="CustomerMap">
		select * from customer_list ;
	</select>
</mapper>